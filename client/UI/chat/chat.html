<template name="floatingChat">
    <button class="btn btn-primary btn-round btn-floating btn-lg" type="button" data-toggle="collapse" data-target="#floating-chat"
      aria-expanded="false" aria-controls="sidebar-floating-chat">
      <i class="material-icons">chat_bubble</i>
      <i class="material-icons">close</i>
    </button>
    <div class="collapse sidebar-floating" id="floating-chat">
      <div class="sidebar-content">
        {{> chatModuleBody}}
      </div>
    </div>
  </template>
  <template name="chatMessage">
    <div class="media chat-item">
      <img alt="David" src="assets/img/avatar-male-4.jpg" class="avatar" />
      <div class="media-body">
        <div class="chat-item-title">
          <span class="chat-item-author" data-filter-by="text">{{data.author}}</span>
          <span data-filter-by="text">{{when data.timestamp}}</span>
        </div>
        <div class="chat-item-body" data-filter-by="text">
          <p>{{data.text}}</p>
  
        </div>
        {{#if data.file}}
        <div class="media media-attachment">
          <div class="avatar bg-primary">
            <i class="material-icons">insert_drive_file</i>
          </div>
          <div class="media-body">
            <a href="{{data.url}}" data-filter-by="text">{{data.file}}</a>
            <span data-filter-by="text">{{data.size}} {{fileType data.type}}</span>
          </div>
        </div>
        {{/if}}
      </div>
    </div>
  </template>
  <template name="chatModuleBody">
      <div class="chat-module" data-filter-list="chat-module-body">
        <div class="chat-module-top">
          <form>
            <div class="input-group input-group-round">
              <div class="input-group-prepend">
                <span class="input-group-text">
                  <i class="material-icons">search</i>
                </span>
              </div>
              <input type="search" class="form-control filter-list-input" placeholder="Search notes" aria-label="Search notes"
                aria-describedby="search-chat">
            </div>
          </form>
          <div class="chat-module-body">
            {{#each messages}}
            {{> chatMessage data=this}}
            {{/each}}
          </div>
        </div>
        <div class="chat-module-bottom">
          <form class="chat-form">
            <textarea class="form-control" id="say" placeholder="Type message" rows="1"></textarea>
            <div class="chat-form-buttons">
              <button type="button" class="btn btn-link">
                <i class="material-icons">tag_faces</i>
              </button>
              <div class="custom-file custom-file-naked">
                <input type="file" class="custom-file-input" id="customFile">
                <label class="custom-file-label" for="customFile">
                  <i class="material-icons">attach_file</i>
                </label>
              </div>
            </div>
          </form>
        </div>
      </div>
    </template>